html(lang="en")
    head
        include head
        script(src="./main.js" defer)
        title Biodivergent Sites and Sounds
        script.
            let animationCount = 1;

            const animation = ()=>{
                let waterscale = animationCount % 2 == 0 ? 1.1 : 1.2;
                document.querySelectorAll('#water #layer0').forEach(x=>x.style.transform = `scale(${waterscale})`);
                animationCount++;
            }            
    body
        main.splash
            include svg/title.svg
            include svg/bg.svg
            .nav__icon
                a(href="https://www.elinorrowlands.com/biodivergent-sites-and-sounds")
                    img.icon.icon__info(src='icons/noun-information-150178-FFFFFF.svg' title="Information")  
        footer
            include footer
    script.
        animation();
        window.setInterval(animation, 60000);
        let infoIcon = document.querySelector('.icon__info');
        let rect = infoIcon.getBoundingClientRect();
        let footer = document.querySelector('footer');
        let footerRect = footer.getBoundingClientRect();
        if(rect.bottom > footerRect.top){
            infoIcon.style.transform = `translateY(${-100}px)`;
        }