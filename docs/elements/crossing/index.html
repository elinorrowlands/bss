
<html lang="en">
  <head><!-- Google tag (gtag.js) -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-VEV5M9N4V0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        
        function gtag(){dataLayer.push(arguments);}
        const greyedElementsQuery = 'main,#instruction__layer,.instructions,.banner__title';
        
        var consent = localStorage && localStorage.getItem('consent');
        var consentHasBeenSet = localStorage && localStorage.getItem('consentHasBeenSet');
        //- console.log(localStorage && localStorage.getItem('consent'));
        if (consent === 'granted') {
            gtag('consent', 'update', {
                'ad_storage': 'granted',
                'analytics_storage': 'granted'
            });
        } else {
            if(!localStorage.getItem('consentHasBeenSet')){
                gtag('consent', 'default', {
                'ad_storage': 'denied',
                'analytics_storage': 'denied'
                });
                gtag('set', 'allow_google_signals', false);
                gtag('js', new Date());
                window.addEventListener('load', function() {
                    document.querySelectorAll('.consent').forEach((el)=>{
                        el.style.display = 'block';
                    })
                if(document.querySelectorAll('.consent').length > 0) document.querySelectorAll(greyedElementsQuery).forEach(x=>x.classList.add('greyed'));    
                });
            }
            
        }
      
      gtag('config', 'G-VEV5M9N4V0');
      
        function showConsentUI(consentGiven) {
            
            localStorage.setItem('consentHasBeenSet', true);
            if (consentGiven) {
            
                localStorage && localStorage.setItem('consent', 'granted');
                gtag('consent', 'update', {
                    'analytics_storage': 'granted'
                });
            } else {
            
            localStorage && localStorage.setItem('consent', 'denied');
                gtag('consent', 'update', {
                    'analytics_storage': 'denied'
                });
            }
            
            document.querySelectorAll('.consent').forEach((el)=>{
                el.style.display = 'none';
            })
            
            document.querySelectorAll(greyedElementsQuery).forEach(x=>x.classList.remove('greyed'));
        }
    </script>
    <title>BSS: Crossing</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin"/>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@100;200&amp;family=Nunito:wght@200&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="../../style.css"/>
    <link href="./style_mix.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js"></script>
    <script>
      // temporary script to ensure files are loaded in the correct order -- see assignStartButton.js
      window.filesToLoad = ['./channels_L.mp3', './channels_R.mp3'];
      
    </script>
    <script src="../../main.js"></script>
    <script type="module" src="./mix.js" defer="defer"></script>
    <script src="mix2.js" defer="defer"></script>
  </head>
  <body>
    <div class="body__background mix" aria-hidden="true"></div>
    <main class="main__qr mix awaitStart transparent">
      <div class="bar mix xf">
        <input class="mix" id="crossFader" type="range" min="0" max="1" step="0.01" value="0.5"/>
      </div>
      <svg class="meter mix" id="meter_0" viewbox="0,0,800,800" aria-hidden="true"> 
        <circle class="thumb mix inactive display1" id="circle_1" cx="50%" cy="50%" r="25" fill="cyan"></circle>
        <rect class="mix inactive slider" id="slider__right" x="0" y="0" width="50%" height="100%" fill="cyan" opacity="0.4"></rect>
      </svg>
      <svg class="meter" id="meter_1" viewbox="0,0,800,800" aria-hidden="true">
        <rect class="inactive slider" id="slider__left" x="50%" y="0" width="50%" height="100%" fill="beige" opacity="0.5"></rect>
        <circle class="thumb inactive mix display2" id="circle_0" cx="50%" cy="50%" r="20" fill="beige"></circle>
      </svg>
      <div class="bar mix">
        <button class="button allowDefault mix" id="start">PLAY</button>
      </div>
      <object class="svg-import" id="left" data="./L.svg" type="image/svg+xml"></object>
      <object class="svg-import" id="right" data="./R.svg" type="image/svg+xml"></object>
    </main>
    <section class="instructions flex scrollable">
      <div class="instructions__header">
        <h1 class="instructions">- 3 - </h1>
      </div>
      <div class="instructions__number">
        <h1 class="instructions">Crossing</h1>
      </div>
      <div class="instructions__text">               
        <p>Canals had to be cut out of the landscape <span style="white-space: nowrap;">when being built</span>. </p>
        <p>Today, the long stretches of the waterways run on, </p>
        <p class="continue">huddled across many channels, </p>
        <p class="continue">awaiting boats to cross, </p>
        <p class="continue">overshadowed by the skyline.</p>
        <button class="button startElement allowDefault waiting" id="nav__start">Loading »</button>
      </div>
      <div class="instructions__interactions"> 
        <h2 class="instructions__heading">Interactions</h2>
        <div class="break"></div>
        <ul>
          <li>
            <object class="instructions__icon" data="../../icons/single_click.svg" type="image/svg+xml" aria-hidden="true"></object><span>touch or mouse</span>
          </li>
        </ul>
        <div class="break"></div>
        <h2 class="instructions__heading">Changes</h2>
        <div class="break"></div>
        <ul>
          <li>
            <object class="instructions__icon" data="../../icons/sound.svg" type="image/svg+xml" aria-hidden="true"></object><span>sound</span>
          </li>
          <li>
            <object class="instructions__icon" data="../../icons/colour.svg" type="image/svg+xml" aria-hidden="true"></object><span>colour</span>
          </li>
        </ul>
      </div>
      <footer class="instructions">
        <p class="footer__content" aria-label="project partners"><a href="https://canalrivertrust.org.uk/"><img class="logo-fit" id="logo__canal2" src="../../logos/canal-and-river-trust-logo-nostrap.svg" alt="Canal &amp; River Trust"/></a><a href="https://www.artscouncil.org.uk/"><img class="logo-fit" id="logo__ace2" src="../../logos/lottery_Logo_White.png" alt="Arts Council England Lottery Funded"/></a><a href="https://www.colesgallery.co.uk/"><img class="logo-fit" id="logo__coles2" src="../../logos/coles.png" alt="Cole's Gallery"/></a><a href="https://www.creativehealthcamden.com/"><img class="logo-fit" id="logo__chc2" src="../../logos/chc.png" alt="Creative Health Camden"/></a></p>
      </footer>
    </section>
  </body>
  <div class="consent" style="display:none;">
    <p>This website uses cookies to improve your experience and to help us create future projects. </p>
    <p>We do not collect any personal data such as name or contact details.</p>
    <button class="allowDefault">ACCEPT</button>
    <button class="allowDefault">DECLINE</button>
    <hr/>
    <details>
      <summary>MORE INFORMATION</summary>
      <p>The website uses a minimal build of Google Analytics, a service which transmits website traffic data to Google servers in the United States and allows us to notice trends to improve the user experience on our website. </p>
      <p>This processes personal data such as: the unique User ID set by Google Analytics, the date and time, the title of the page being viewed, the URL of the page being viewed, the URL of the page that was viewed prior to the current page, the screen resolution, the time in local timezone, the links clicked on to an outside domain, the type of device, and the country, region, and city.</p>
      <p>You may opt out of this tracking at any time by activating the “Do Not Track” setting in your browser.</p>
    </details>
    <script>
      document.querySelectorAll('.consent button').forEach(x=>{
          x.addEventListener('click', function(e){
          if(e.target.textContent === 'ACCEPT'){
              showConsentUI(true);
          } else {
              showConsentUI(false);
              
          }
          document.querySelectorAll('.consent').forEach((el)=>{
              el.style.display = 'none';
          })
      })
      });
    </script>
  </div>
</html>